<section class="upload-screen" aria-labelledby="upload-heading">
  <button type="button" class="upload-screen__close" aria-label="Close" (click)="close()">
    <span class="upload-screen__close-icon" aria-hidden="true">
      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M1.05967 11.5056C0.686426 11.8788 0.678809 12.5415 1.06729 12.93C1.46338 13.3185 2.12607 13.3108 2.4917 12.9452L7.00107 8.43585L11.5028 12.9376C11.8837 13.3185 12.5388 13.3185 12.9272 12.93C13.3157 12.5339 13.3157 11.8864 12.9349 11.5056L8.43311 7.00382L12.9349 2.49444C13.3157 2.11358 13.3233 1.4585 12.9272 1.07003C12.5388 0.68155 11.8837 0.68155 11.5028 1.06241L7.00107 5.56417L2.4917 1.06241C2.12607 0.689167 1.45576 0.673933 1.06729 1.07003C0.678809 1.4585 0.686426 2.12882 1.05967 2.49444L5.56143 7.00382L1.05967 11.5056Z"
          fill="#0A1748"
        />
      </svg>
    </span>
  </button>

  <button
    type="button"
    class="upload-screen__back"
    (click)="goBack()"
    [attr.aria-label]="backAriaLabel"
  >
    <span class="upload-screen__back-icon" aria-hidden="true">
      <svg width="14" height="14" viewBox="0 0 10 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M8.84976 0.491637C8.753 0.39463 8.63805 0.317666 8.5115 0.265152C8.38494 0.212639 8.24927 0.185608 8.11226 0.185608C7.97524 0.185608 7.83958 0.212639 7.71302 0.265152C7.58647 0.317666 7.47152 0.39463 7.37476 0.491637L0.449758 7.41664C0.372505 7.49373 0.311216 7.5853 0.269398 7.68612C0.22758 7.78693 0.206055 7.895 0.206055 8.00414C0.206055 8.11328 0.22758 8.22134 0.269398 8.32216C0.311216 8.42297 0.372505 8.51454 0.449758 8.59164L7.37476 15.5166C7.78309 15.925 8.44143 15.925 8.84976 15.5166C9.25809 15.1083 9.25809 14.45 8.84976 14.0416L2.81643 7.99997L8.85809 1.9583C9.25809 1.5583 9.25809 0.891637 8.84976 0.491637Z"
          fill="#0A1748"
        />
      </svg>
    </span>
    <span class="upload-screen__back-label">Back</span>
  </button>

  <header class="upload-screen__header">
    <h1 id="upload-heading">{{ heading }}</h1>
    <p>{{ subheading }}</p>
  </header>

  <section class="upload-screen__upload" aria-labelledby="upload-roster">
    <h2 id="upload-roster">Upload roster</h2>

    <label class="upload-screen__file" [class.upload-screen__file--active]="selectedFile">
      <span class="upload-screen__file-label">
        {{ selectedFile?.name || 'Select roster file (CSV)' }}
      </span>
      <span class="upload-screen__file-icon" aria-hidden="true">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M19.35 10.04C18.67 6.59 15.64 4 12 4C9.11 4 6.6 5.64 5.35 8.04C3.34 8.36 2 10.03 2 12C2 14.21 3.79 16 6 16H8"
            stroke="#0A1748"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M16 16H18.5C20.43 16 22 14.43 22 12.5C22 10.7 20.66 9.17 18.88 8.97"
            stroke="#0A1748"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M12 12V19"
            stroke="#0A1748"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M9 15L12 12L15 15"
            stroke="#0A1748"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </span>
      <input
        type="file"
        accept=".csv"
        aria-label="Select roster file in CSV format"
        (change)="handleFileChange($event)"
      />
    </label>

    <button type="button" class="upload-screen__upload-button" (click)="uploadData()" [disabled]="!selectedFile">
      Upload data
    </button>
  </section>

  <div class="upload-screen__divider" role="separator" aria-label="or">
    <span>OR</span>
  </div>

  <form class="upload-form" novalidate>
    <section class="upload-form__section" aria-labelledby="bio-heading">
      <h2 id="bio-heading">Bio</h2>

      <label class="upload-input">
        <span class="upload-input__label">Full name</span>
        <input
          type="text"
          name="fullName"
          placeholder="Full name"
          [(ngModel)]="form.fullName"
        />
      </label>

      <label class="upload-input upload-input--multiline">
        <span class="upload-input__label">Short description</span>
        <textarea
          name="description"
          placeholder="Short description"
          [(ngModel)]="form.description"
          rows="4"
        ></textarea>
      </label>

      <label class="upload-input">
        <span class="upload-input__label">Gender</span>
        <select name="gender" [(ngModel)]="form.gender">
          <option value="" disabled>Gender</option>
          <option *ngFor="let option of genderOptions" [value]="option">{{ option }}</option>
        </select>
      </label>

      <label class="upload-input">
        <span class="upload-input__label">Languages</span>
        <select name="languages" [(ngModel)]="form.languages">
          <option value="" disabled>Languages</option>
          <option *ngFor="let option of languageOptions" [value]="option">{{ option }}</option>
        </select>
      </label>
    </section>

    <section class="upload-form__section" aria-labelledby="work-heading">
      <h2 id="work-heading">Work</h2>

      <ng-container *ngFor="let field of workSelectFields; trackBy: trackByPlaceholder">
        <label class="upload-input">
          <span class="upload-input__label">{{ field.placeholder }}</span>
          <select [name]="field.key" [(ngModel)]="form[field.key]">
            <option value="" disabled>{{ field.placeholder }}</option>
            <option *ngFor="let option of field.options" [value]="option">{{ option }}</option>
          </select>
        </label>
      </ng-container>

      <div class="upload-form__row">
        <ng-container *ngFor="let field of workTextFields; trackBy: trackByPlaceholder">
          <label class="upload-input">
            <span class="upload-input__label">{{ field.placeholder }}</span>
            <input
              type="text"
              [name]="field.key"
              placeholder="{{ field.placeholder }}"
              [(ngModel)]="form[field.key]"
            />
          </label>
        </ng-container>
      </div>

      <ng-container *ngFor="let field of workSingleFields; trackBy: trackByPlaceholder">
        <label class="upload-input">
          <span class="upload-input__label">{{ field.placeholder }}</span>
          <input
            type="text"
            [name]="field.key"
            placeholder="{{ field.placeholder }}"
            [(ngModel)]="form[field.key]"
          />
        </label>
      </ng-container>
    </section>
  </form>
</section>
