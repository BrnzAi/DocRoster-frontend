<section class="search-screen" aria-labelledby="search-results-heading">
  <div class="search-screen__floating-bar">
    <form class="search-screen__form" role="search" aria-label="Search for specialists" (submit)="$event.preventDefault()">
      <span class="search-screen__icon" aria-hidden="true">
        <img src="assets/anima/search/vector.svg" alt="" />
      </span>

      <label for="specialist-search" class="sr-only">Find a specialist</label>
      <input
        id="specialist-search"
        type="search"
        placeholder="Find a specialist..."
        [(ngModel)]="query"
        (ngModelChange)="handleQueryChange($event)"
        name="search"
        aria-label="Find a specialist"
      />

      <button type="button" class="search-screen__filter" aria-label="Filter search results">
        <img src="assets/anima/search/vector-1.svg" alt="" />
      </button>
    </form>

    <button type="button" class="search-screen__profile" (click)="openHighlightedProfile()" aria-label="Go to profile">
      <span class="search-screen__profile-icon" aria-hidden="true">
        <img src="assets/anima/search/vector-2.svg" alt="" />
        <img src="assets/anima/search/vector-3.svg" alt="" />
      </span>
      <span>Profile</span>
    </button>
  </div>

  <div class="search-screen__content">
    <header class="search-screen__summary">
      <span class="search-screen__eyebrow" id="search-results-heading">SEARCH RESULTS FOR</span>
      <p class="search-screen__query">{{ query.trim() ? query : defaultQuery }}</p>
    </header>

    <div class="search-screen__panel">
      <p class="search-screen__status" *ngIf="isLoading()">Searching specialistsâ€¦</p>
      <p class="search-screen__status" *ngIf="showEmptyState()">No specialists matched your search.</p>

      <div
        class="search-screen__list"
        role="list"
        *ngIf="!isLoading() && !showEmptyState()"
      >
        <button
          type="button"
          class="search-card"
          *ngFor="let specialist of filteredResults(); trackBy: trackByResultId"
          role="listitem"
          (click)="requestProfile(specialist.id)"
          [ngClass]="{
            'search-card--border-top': specialist.border === 'top-bottom',
            'search-card--border-bottom': specialist.border === 'top-bottom' || specialist.border === 'bottom',
            'search-card--flush': specialist.border === 'none'
          }"
          [attr.aria-label]="'Open profile for ' + specialist.name"
        >
          <img [src]="specialist.avatar" [alt]="specialist.alt" class="search-card__avatar" />

          <div class="search-card__body">
            <h2>{{ specialist.name }}</h2>
            <p *ngFor="let detail of specialist.details">{{ detail }}</p>
          </div>
        </button>
      </div>
    </div>
  </div>
</section>
